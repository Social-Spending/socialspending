WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WAxisSliderWidget",(function(t,e,n,o){let r=!1;const i={};e.wtSObj=this;const c=this,s=t.WT;n.canvas.style.msTouchAction="none";function a(t){return 2===t.pointerType||3===t.pointerType||"pen"===t.pointerType||"touch"===t.pointerType}let u=!1;if(window.MSPointerEvent||window.PointerEvent){e.style.touchAction="none";n.canvas.style.msTouchAction="none";n.canvas.style.touchAction="none"}(window.MSPointerEvent||window.PointerEvent)&&function(){const t=[];function n(){t.length>0&&!u?u=!0:t.length<=0&&u&&(u=!1)}function o(o){if(a(o)){o.preventDefault();t.push(o);n();i.start(e,{touches:t.slice(0)})}}function r(o){if(u&&a(o)){o.preventDefault();for(let e=0;e<t.length;++e)if(t[e].pointerId===o.pointerId){t.splice(e,1);break}n();i.end(e,{touches:t.slice(0),changedTouches:[]})}}function c(o){if(a(o)){o.preventDefault();for(let e=0;e<t.length;++e)if(t[e].pointerId===o.pointerId){t[e]=o;break}n();i.moved(e,{touches:t.slice(0)})}}const s=e.wtEObj;if(s){e.removeEventListener("pointerdown",s.pointerDown);e.removeEventListener("pointerup",s.pointerUp);e.removeEventListener("pointerout",s.pointerUp);e.removeEventListener("pointermove",s.pointerMove)}e.wtEObj={pointerDown:o,pointerUp:r,pointerMove:c};e.addEventListener("pointerdown",o);e.addEventListener("pointerup",r);e.addEventListener("pointerout",r);e.addEventListener("pointermove",c)}();const f=s.gfxUtils.rect_left,l=s.gfxUtils.rect_right,h=s.gfxUtils.rect_top,d=s.gfxUtils.rect_bottom;function v(){return o.chart.config.series[o.series].xAxis}this.xAxis=v;function p(){return o.chart.config.minZoom.x[v()]}function g(){return o.chart.config.maxZoom.x[v()]}let w=null;let y=null;function x(){!function(t){if(!r){r=!0;requestAnimationFrame((function(){t();r=!1}))}}(n.repaint)}this.changeRange=function(t,e){t<0&&(t=0);e>1&&(e=1);const n=o.drawArea;o.transform[0]=e-t;o.transform[4]=t*n[2];x()};function m(){const t=o.drawArea,e=o.transform[4]/t[2];return[e,o.transform[0]+e]}function E(t){x();if(t){const t=o.transform,e=o.drawArea,n=t[4]/e[2],r=t[0]+n;o.chart.setXRange(o.series,n,r,o.updateYAxis)}}function b(){return!o.chart.config.isHorizontal}function M(t,e,n){return b()?t.y>=h(e)&&t.y<=d(e)&&t.x>f(e)-n/2&&t.x<f(e)+n/2:t.x>=f(e)&&t.x<=l(e)&&t.y>h(e)-n/2&&t.y<h(e)+n/2}function A(t,e,n){return b()?t.y>=h(e)&&t.y<=d(e)&&t.x>l(e)-n/2&&t.x<l(e)+n/2:t.x>=f(e)&&t.x<=l(e)&&t.y>d(e)-n/2&&t.y<d(e)+n/2}function D(t,e){return b()?t.y>=h(e)&&t.y<=d(e)&&t.x>f(e)&&t.x<l(e):t.x>=f(e)&&t.x<=l(e)&&t.y>h(e)&&t.y<d(e)}this.mouseDown=function(t,n){if(u)return;w=s.widgetCoordinates(e,n);const r=o.rect();if(M(w,r,10))y=1;else if(A(w,r,10))y=3;else{if(!D(w,r)){y=null;return}y=2}s.cancelEvent(n)};this.mouseUp=function(t,e){if(!u){w=null;if(null!==y){y=null;s.cancelEvent(e)}}};function T(t){const e=o.transform,n=o.drawArea,r=e[4]/n[2],i=e[0]+r;let s=(r*n[2]+t)/n[2];if(i<=s)return;const a=1/(i-s);if(a>g())return;if(a<p())return;s<0&&(s=0);s>1&&(s=1);c.changeRange(s,i);E(!0);const u=m();if(Math.abs(u[1]-i)>Math.abs(u[0]-r)){c.changeRange(r,i);E(!0)}}function C(t){const e=o.transform,n=o.drawArea,r=e[4]/n[2],i=e[0]+r;let s=(i*n[2]+t)/n[2];if(s<=r)return;const a=1/(s-r);if(a>g())return;if(a<p())return;s<0&&(s=0);s>1&&(s=1);c.changeRange(r,s);E(!0);const u=m();if(Math.abs(u[0]-r)>Math.abs(u[1]-i)){c.changeRange(r,i);E(!0)}}function L(t){const e=o.transform,n=o.drawArea,r=e[4]/n[2],i=e[0]+r,s=r*n[2];let a=s+t;if(a<0){t=-s;a=0}let u=a/n[2];const f=i*n[2];let l=f+t;if(l>n[2]){a=s+(t=n[2]-f);u=a/n[2];l=n[2]}const h=l/n[2];c.changeRange(u,h);E(!0)}this.mouseDrag=function(t,n){if(u)return;if(!y)return;s.cancelEvent(n);const o=s.widgetCoordinates(e,n);if(null===w){w=o;return}let r;r=b()?o.x-w.x:o.y-w.y;switch(y){case 1:T(r);break;case 2:L(r);break;case 3:C(r)}w=o;E(!0)};this.mouseMoved=function(t,r){setTimeout((function(){if(u)return;if(y)return;const t=s.widgetCoordinates(e,r),i=o.rect();M(t,i,10)||A(t,i,10)?b()?n.canvas.style.cursor="col-resize":n.canvas.style.cursor="row-resize":D(t,i)?n.canvas.style.cursor="move":n.canvas.style.cursor="auto"}),0)};let R=!1,S=!1,U=null;i.start=function(t,e){R=1===e.touches.length;S=2===e.touches.length;if(R){w=s.widgetCoordinates(n.canvas,e.touches[0]);const t=o.rect();if(M(w,t,20))y=1;else if(A(w,t,20))y=3;else{if(!D(w,t)){y=null;return}y=2}s.capture(null);s.capture(n.canvas);e.preventDefault&&e.preventDefault()}else if(S){y=null;const t=[s.widgetCoordinates(n.canvas,e.touches[0]),s.widgetCoordinates(n.canvas,e.touches[1])],r=o.rect();if(!D(t[0],r)||!D(t[1],r))return;U=b()?Math.abs(t[0].x-t[1].x):Math.abs(t[0].y-t[1].y);s.capture(null);s.capture(n.canvas);e.preventDefault&&e.preventDefault()}};i.end=function(t,n){const o=Array.prototype.slice.call(n.touches),r=R,c=S;let a=0===o.length;R=1===o.length;S=2===o.length;a||function(){for(let t=0;t<n.changedTouches.length;++t)!function(){const e=n.changedTouches[t].identifier;for(let t=0;t<o.length;++t)if(o[t].identifier===e){o.splice(t,1);return}}()}();a=0===o.length;R=1===o.length;S=2===o.length;if(a&&r){w=null;if(null===y)return;y=null;s.cancelEvent(n)}if(R&&c){S=!1;U=null;s.cancelEvent(n);i.start(e,n)}if(a&&c){S=!1;U=null;s.cancelEvent(n)}};i.moved=function(t,o){if(y){o.preventDefault&&o.preventDefault();const t=s.widgetCoordinates(e,o);if(null===w){w=t;return}let n;n=b()?t.x-w.x:t.y-w.y;switch(y){case 1:T(n);break;case 2:L(n);break;case 3:C(n)}w=t;E(!0)}else if(S){o.preventDefault&&o.preventDefault();const t=[s.widgetCoordinates(n.canvas,o.touches[0]),s.widgetCoordinates(n.canvas,o.touches[1])];let e;e=b()?Math.abs(t[0].x-t[1].x):Math.abs(t[0].y-t[1].y);const r=e-U;T(-r/2);C(r/2);U=e;E(!0)}};this.updateConfig=function(t){for(const[e,n]of Object.entries(t))o[e]=n;E(!1)};c.updateConfig({});if(!window.TouchEvent||window.MSPointerEvent||window.PointerEvent){const t=function(){};c.touchStarted=t;c.touchEnded=t;c.touchMoved=t}else{c.touchStarted=i.start;c.touchEnded=i.end;c.touchMoved=i.moved}}));