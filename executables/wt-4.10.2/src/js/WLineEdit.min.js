WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WLineEdit",(function(t,e,n,a,c,r,s,i){const l="a".charCodeAt(0),u="f".charCodeAt(0),o="z".charCodeAt(0),d="A".charCodeAt(0),f="F".charCodeAt(0),h="Z".charCodeAt(0),g="-".charCodeAt(0),v="+".charCodeAt(0),A="0".charCodeAt(0),C="1".charCodeAt(0),b="9".charCodeAt(0);e.wtLObj=this;const D=this,p=t.WT;function E(){e.dispatchEvent(new InputEvent("input"))}function R(){if(""===n)return e.value;const t=e.value;let a="",c="",r=0,i=0;for(r=0;r<t.length;r++){c=t.charAt(r);c!==s&&"_"!==n.charAt(r)&&(i+=1);c===s&&"_"!==n.charAt(r)||(a+=c)}return i>0?a:""}this.getValue=R;this.setValue=function(t){c=t;if(""===n){e.value=t;return}if(!(1&i||p.hasFocus(e))){e.value=this.getValue();return}const r=p.getSelectionRange(e);let s=-1;e.value=a;let l=0,u=0,o="";for(;l<t.length;l++){o=t.charAt(l);r.start===r.end&&r.start===l&&(s=u);u=L(o,u,!0)}p.hasFocus(e)&&(-1!==s?w(s):0===t.length&&w(0))};this.setInputMask=function(t,e,c,i,l){n=t;a=e;r=i;s=l;D.setValue(c)};""!==n&&this.setInputMask(n,a,c,r,s);function S(t){return"_"===n.charAt(t)}function w(t){p.setSelectionRange(e,t,t+1)}function k(t){for(;S(t);)t++;w(t);return t}function y(t){for(;t>0&&S(t);)t--;w(t);return t}function O(t,e){if(e>=n.length)return!1;switch(n.charAt(e)){case"a":case"A":return t>=l&&t<=o||t>=d&&t<=h;case"n":case"N":return t>=l&&t<=o||t>=d&&t<=h||t>=A&&t<=b;case"X":case"x":return!0;case"0":case"9":return t>=A&&t<=b;case"d":case"D":return t>=C&&t<=b;case"#":return t>=A&&t<=b||t===g||t===v;case"h":case"H":return t>=d&&t<=f||t>=A&&t<=b||t>=l&&t<=u;case"b":case"B":return t===A||t===C}return!1}function V(t){const n=e.value.substring(0,t.start),c=e.value.substring(t.end),r=a.substring(t.start,t.end);e.value=n+r+c;p.setSelectionRange(e,t.start,t.start)}function L(t,c,s){let i=c;const l=i;if(!s&&a.charAt(i)!==t&&!O(t.charCodeAt(0),i)&&i-1>=0&&a.charAt(i-1)===t)return i;for(;a.charAt(i)!==t&&!O(t.charCodeAt(0),i)&&i<n.length;)i++;if(i===n.length)return l;const u=e.value.substring(0,i),o=e.value.substring(i+1);a.charAt(i)!==t&&(">"===r.charAt(i)?t=t.toUpperCase():"<"===r.charAt(i)&&(t=t.toLowerCase()));e.value=u+t+o;i++;return i}this.keyDown=function(t,a){if(""===n||e.readOnly)return;const c=R();let r;switch(a.keyCode){case 39:p.cancelEvent(a,p.CancelDefaultAction);r=p.getSelectionRange(e);r.end-r.start<=1?k(r.start+1):p.setSelectionRange(e,r.end,r.end);break;case 37:p.cancelEvent(a,p.CancelDefaultAction);r=p.getSelectionRange(e);r.end-r.start<=1?y(r.start-1):p.setSelectionRange(e,r.start,r.start);break;case 36:p.cancelEvent(a,p.CancelDefaultAction);k(0);break;case 35:p.cancelEvent(a,p.CancelDefaultAction);p.setSelectionRange(e,n.length,n.length);break;case 46:p.cancelEvent(a,p.CancelDefaultAction);r=p.getSelectionRange(e);if(r.end-r.start<=1){const t=r.start;if(t<n.length&&!S(t)){const n=e.value.substring(0,t),a=e.value.substring(t+1);e.value=n+s+a;p.setSelectionRange(e,t,t)}}else V(r);break;case 8:p.cancelEvent(a,p.CancelDefaultAction);r=p.getSelectionRange(e);if(r.end-r.start<=1){let t=r.start-1;if(t>=0){t=y(t);if(!S(t)){const n=e.value.substring(0,t),a=e.value.substring(t+1);e.value=n+s+a;w(t)}}}else V(r)}c!==R()&&E()};this.keyPressed=function(t,a){if(""===n||e.readOnly)return;const c=R(),r=a.charCode||a.keyCode;if(0===r||13===r||10===r)return;p.cancelEvent(a,p.CancelDefaultAction);const s=p.getSelectionRange(e);s.start<s.end&&V(s);k(L(String.fromCharCode(r),s.start));c!==R()&&E()};let _=this.getValue();this.focussed=function(t,a){if(!(""===n||e.readOnly||1&i)){_=this.getValue();setTimeout((function(){D.setValue(c)}),0)}};this.blurred=function(t,a){if(!(""===n||e.readOnly||1&i)){c=e.value;e.value=this.getValue();e.value!==_&&e.dispatchEvent(new Event("change",{bubbles:!0}))}};this.clicked=function(t,a){if(""===n||e.readOnly)return;const c=p.getSelectionRange(e);c.start===c.end&&w(c.start)};e.addEventListener("paste",(function(t){if(""===n||e.readOnly)return;p.cancelEvent(t,p.CancelDefaultAction);const a=R(),c=p.getSelectionRange(e);c.start!==c.end&&V(c);let r=null;if(!t.clipboardData||!t.clipboardData.getData){e.value!==a&&E();return}r=t.clipboardData.getData("text/plain");let s="",i=0,l=c.start;for(;i<r.length;i++){s=r.charAt(i);l=L(s,l,!0)}k(l);a!==R()&&E()}),!1);e.addEventListener("cut",(function(t){if(""===n||e.readOnly)return;p.cancelEvent(t,p.CancelDefaultAction);const a=R(),c=p.getSelectionRange(e);if(c.start!==c.end){const n=e.value.substring(c.start,c.end);window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",n):t.clipboardData&&t.clipboardData.setData&&t.clipboardData.setData("text/plain",n);V(c)}a!==R()&&E()}),!1);e.addEventListener("input",(function(t){if(""!==n&&!e.readOnly&&""===e.value){e.value=a;k(0)}}),!1);e.wtEncodeValue=function(){return""===n||1&i||p.hasFocus(e)?e.value:c}}));