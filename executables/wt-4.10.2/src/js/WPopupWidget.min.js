WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WPopupWidget",(function(e,t,n,i,o){t.wtPopup=this;const s=this,u=e.WT;let c=null,d=n,l=i,r=null,h=null,a=null;function f(){if(u.isIOS){document.addEventListener("touchstart",p);document.addEventListener("touchend",m)}else document.addEventListener("click",v)}function p(e){const t=e.originalEvent.touches;r=t.length>1?null:{x:t[0].screenX,y:t[0].screenY}}function m(e){if(r){const t=e.originalEvent.changedTouches[0];Math.abs(r.x-t.screenX)<20&&Math.abs(r.y-t.screenY)<20&&v(e)}}function v(e){let n=u.target(e);n===document&&null!==u.WPopupWidget.popupClicked&&(n=u.WPopupWidget.popupClicked);(function(e,t){if(e===t)return!0;for(t=t.parentNode;t;t=t.parentNode)if(e===t)return!0;return!1})(t,n)||s.hide()}this.bindShow=function(e){h=e};this.bindHide=function(e){a=e};this.shown=function(){d&&setTimeout((function(){f()}),0);h&&h()};this.show=function(n,i){if(""!==t.style.display){t.style.display="";n&&u.positionAtWidget(t.id,n.id,i);e.emit(t,"shown")}};this.hidden=function(){a&&a();d&&function(){if(u.isIOS){document.removeEventListener("touchstart",p);document.removeEventListener("touchend",m)}else document.removeEventListener("click",v)}()};this.hide=function(){"none"!==t.style.display&&(t.style.display="none");e.emit(t,"hidden");s.hidden()};this.setTransient=function(e,n){d=e;l=n;d&&"hidden"!==t.style.display&&setTimeout((function(){f()}),0)};t.addEventListener("mouseleave",(function(){clearTimeout(c);l>0&&(c=setTimeout((function(){s.hide()}),l))}));t.addEventListener("mouseenter",(function(){clearTimeout(c)}));o&&this.shown()}));