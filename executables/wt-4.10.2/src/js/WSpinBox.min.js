WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WSpinBox",(function(t,e,s,n,i,o,l,a,c,u){const f="Must be a number",r="The number must be at least ",d="The number may be at most ",h="dn",p="up",y="unselectable";e.wtObj=this;const b=this,v=t.WT,g="crosshair";let m,L=null,W=!1,x=null,C=!1,R=!1;function w(){return e.readOnly}function j(){const t=e.wtLObj;let s="";if(void 0!==t){s=t.getValue();""===s&&(s=n+"0"+i)}else s=e.value;if(s.startsWith(n)){s=s.substring(n.length);if(s.endsWith(i)){s=s.substring(0,s.length-i.length);u&&(s=s.split(u).join(""));s=s.replace(c,".");return Number(s)}}return null}function E(t){const a=e.wtLObj;if(t>l)if(R){t=o+(t-o)%(l-o+1)}else t=l;else if(t<o)if(R){const e=l-o;t=l-(Math.abs(t-o)-1)%(e+1)}else t=o;let f=t.toFixed(s);f=f.replace(".",c);const r=f.indexOf(c);let d="";if(-1!==r){for(let t=0;t<r;t++){d+=f.charAt(t);t<r-1&&(r-t-1)%3==0&&(d+=u)}d+=f.substr(r)}else d=f;const h=e.value;void 0!==a?a.setValue(n+d+i):e.value=n+d+i;W=!0;b.jsValueChanged(h,t)}function V(){let t=j();if(null!==t){t+=a;E(t)}}function D(){let t=j();if(null!==t){t-=a;E(t)}}this.setIsDoubleSpinBox=function(t){C=t;this.configure(s,n,i,o,l,a)};this.setWrapAroundEnabled=function(t){R=t};this.configure=function(t,e,c,u,h,p){s=t;n=e;i=c;o=u;l=h;a=p;const y=C||void 0===v.WIntValidator;x=y?new v.WDoubleValidator(!0,!1,o,l,".","",f,f,r+o,d+l):new v.WIntValidator(!0,o,l,"",f,f,r+o,d+l)};this.mouseOut=function(t,s){e.classList.remove(h,p)};this.mouseMove=function(t,s){if(!w())if(L){const t=v.pageCoordinates(s).y-L.y;let e=m;if(null!==e){e-=t*a;E(e)}}else{const t=v.widgetCoordinates(e,s);(e.classList.contains(h)||e.classList.contains(p))&&e.classList.remove(h,p);let n=-1;"object"==typeof v.theme&&"bootstrap"===v.theme.type&&(n=v.theme.version);if(n>=4&&t.x>e.offsetWidth-30&&t.x<e.offsetWidth-10){const s=e.offsetHeight/2;if(t.y>=s-3&&t.y<=s+3)e.style.cursor=g;else{e.style.cursor="default";t.y<s-1?e.classList.add(p):e.classList.add(h)}}else if(n<4&&t.x>e.offsetWidth-22){const s=e.offsetHeight/2;if(t.y>=s-3&&t.y<=s+3)e.style.cursor=g;else{e.style.cursor="default";t.y<s-1?e.classList.add(p):e.classList.add(h)}}else""!==e.style.cursor&&(e.style.cursor="")}};this.mouseDown=function(t,s){v.capture(null);if(!w())if(e.style.cursor===g){v.capture(null);v.capture(e);e.classList.add(y);L=v.pageCoordinates(s);m=j()}else{const t=v.widgetCoordinates(e,s);let n=-1;"object"==typeof v.theme&&"bootstrap"===v.theme.type&&(n=v.theme.version);if(n>=5&&t.x>e.offsetWidth-30&&t.x<e.offsetWidth-10){v.cancelEvent(s);v.capture(e);e.classList.add(y);const n=e.offsetHeight/2;t.y<n?v.eventRepeat((function(){V()})):v.eventRepeat((function(){D()}))}else if(n<4&&t.x>e.offsetWidth-22){v.cancelEvent(s);v.capture(e);e.classList.add(y);const n=e.offsetHeight/2;t.y<n?v.eventRepeat((function(){V()})):v.eventRepeat((function(){D()}))}}};this.mouseUp=function(t,s){e.classList.remove(y);if(!w()){if(W||null!==L){L=null;W=!1;t.onchange()}v.stopRepeat()}};this.keyDown=function(t,e){w()||(40===e.keyCode?v.eventRepeat((function(){D()})):38===e.keyCode&&v.eventRepeat((function(){V()})))};this.keyUp=function(t,e){if(!w()){if(W){W=!1;t.onchange()}v.stopRepeat()}};this.setLocale=function(t,e){c=t;u=e};this.validate=function(t){let e=j();null===e&&(e="a");return x.validate(e)};this.jsValueChanged=function(){};this.setIsDoubleSpinBox(C)}));